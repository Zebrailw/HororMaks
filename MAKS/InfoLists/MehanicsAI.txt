ОСНОВНЫЕ МЕХАНИКИ И СИСТЕМЫ ДЛЯ FNaF-LIKE (фиксированная позиция, монитор/камеры)

— СЦЕНА / АРХИТЕКТУРА
- Core Game Loop: запуск ночи, тики времени, победа/поражение, перезапуск
- Состояния игры: Boot → Menu → Night → Jumpscare → Results → Next Night
- Синглтоны: GameManager, AudioManager, UIManager, PowerManager, NightManager
- Data-Driven конфиги: ScriptableObject для ночей, аниматроников, камер, звуков

— ИГРОВОЕ ВРЕМЯ И НОЧИ
- Часы: 12AM→6AM, симуляция (например 1 сек = 1 внутренняя минута)
- Ночь конфиг: сложность, активность аниматроников, шанс событий, стоимость энергии
- Переходы: экран результатов, прогресс, разблокировка ночей

— СИСТЕМА ЭНЕРГИИ / БАТАРЕЯ
- Без общего запаса энергии (как в FNaF 2); ключевая — батарея фонарика
- Параметры батареи: емкость, скорость разряда при использовании, пассивный дрейн
- Механика зарядки: удержание кнопки/рывки («подзарядка»), ограничение частоты
- UI индикатор: шкала/сегменты батареи, предупреждение о низком заряде
- При 0% фонарик отключается, редкие «плевки» света возможны скриптово

— КАМЕРЫ / МОНИТОР
- Сетка камер: 6–12 точек, превью и полноэкранный режим выбранной камеры
- UI-хаб: планшет/монитор, переключение, карта локаций, статический шум
- Состояния камеры: «офлайн», помехи, задержка смены
- Взаимодействия: ПК – мышь/клавиши, геймпад – навигация
- Опции: светофильтры, ночное зрение, ограничение времени поднятого монитора

— ОКНО / ФОНАРИК (FNaF2-стиль)
- Окно обзора перед игроком (вместо дверей): видимость коридора/центра
- Фонарик: конус света, подсветка окна и узких участков сцены
- Расход/заряд: фонарик тратит батарею, отдельная механика «подзарядки» (hold/тапы)
- Влияние на AI: вспышка временно отгоняет некоторых аниматроников
- Анти-спам: эффективность снижается при слишком частых вспышках, кулдаун
- Инпут: ЛКМ/клавиша — включение света; отдельная клавиша — зарядить батарею

— АНИМАТРОНИКИ (AI)
- State Machine: Idle → Patrol → Stalk → At Window → Attack → Retreat
- Переходы по узлам/камерам: вероятности, задержки, «перепрыгивание» камер
- Реакция на монитор: агр при наблюдении/игнор, фейковые оффлайн-камеры
- Слух/звук: реакция на шум, приманка, отвлекающие звуки
- Индивидуальные паттерны: темпы, хитрости, «обман» UI
- Триггеры атаки: в окне и монитор поднят / батарея фонарика на нуле / промедление
- Анти-кампер: штраф за постоянный свет/частые вспышки, «адаптация» против фонаря

— ПУТИ / ГЕОМЕТРИЯ
- NavGraph без перемещения игрока: предопределенные точки/маршруты
- Задержки на узлах: шанс перейти дальше, шанс «перепрыгнуть» камеру
- События узлов: шум, отключение камеры, визуальная помеха

— АУДИО
- Амбиент: циклы ночи, редкие дальние скримы, вентилятор/электрика
- SFX: кнопки, монитор, шаги, дыхание, щелчки, окно (стуки/шорох), фонарик (клик/жужжание зарядки), jumpscare
- 3D‑позиционирование: шаги слева/справа/по центру перед окном
- Аудио-подсказки: редкие cues поведения аниматроников

— ВИЗУАЛЬНАЯ ПОДАЧА
- Шейдер помех для монитора: шум, глитчи, rolling, потеря кадра
- Вспышки света: при переключении камер/включении фонарика
- Постэффекты: виньетка, grain, chromatic aberration
- Силуэт в окне: глаза в темноте, пыль/частицы

— JUMPSCARE СИСТЕМА
- Триггер из AI при выполнении условий атаки
- Последовательность: отключить управление → короткая кат-сцена → звук → конец
- Варианты: для каждого аниматроника, рандомизация анимации/угла

— UI / UX
- Главное меню: старт, выбор ночи, настройки, кредиты
- HUD: время, батарея фонарика, статус монитора/кулдауны, иконки подсказок
- Экран результата: выжили/провал, статистика (время, расход батареи)
- Настройки: громкость, чувствительность, язык, качество графики
- Туториал-хинты: иконки и краткие подсказки в начале ночи

— СОХРАНЕНИЯ / ПРОГРЕСС
- AutoSave/слоты: пройденные ночи, рекорды, настройки
- Быстрый перезапуск ночи без долгой загрузки

— СОБЫТИЯ / СЮРПРИЗЫ
- Редкие ивенты: «фантом», заморозка UI, ложные камеры
- Скриптовые ивенты: интро/радио-переговоры для ночей
- Таймерные баги света: мерцание при низком заряде батареи

— БАЛАНС / СЛОЖНОСТЬ
- Параметры: вероятности переходов AI, скорость, окно реакции у окна
- Кривые сложности по ночам, модификаторы на расход/заряд фонарика
- Телеметрия: скрытый лог для калибровки баланса

— ИНСТРУМЕНТЫ / ПАЙПЛАЙН
- ScriptableObjects: NightConfig, AnimatronicConfig, CameraNode, FlashlightConfig
- Редакторские окна: редактирование графа камер/путей
- Addressables: подгрузка звуков/текстур по требованию

— ПРОИЗВОДИТЕЛЬНОСТЬ
- Оптимизация камер: выключать рендер вне активной, baked snapshots
- Pooling: SFX, вспышки, партиклы
- Легкие постэффекты: пресеты для слабых ПК

— ТЕСТЫ / ОТЛАДКА
- Debug Overlay: состояние AI, текущая камера, заряд фонарика
- Горячие клавиши: замедление времени, форс-ивенты, телепорт AI
- Логи: маркеры событий ночи, результативность AI

— КОНТЕНТ / АРТ
- Импорт моделей друзей: материалы, позы для камер, LOD при необходимости
- Анимации: ожидание, подкрадывание, появление в окне, jumpscare
- Иконки/UI: минималистика, читаемость в темноте

— БИЛДЫ / ПЛАТФОРМЫ
- Настройки проекта: input mappings, графика/качество, линейный цвет, VSync off
- Windows‑билд: полноэкранный без рамки, курсор скрыт во время ночи

— ЮРИДИКА / КРЕДИТЫ
- Дисклеймер фан‑проекта: некоммерческий, собственные модели и звуки
- Credits: команда, инструменты, благодарности


ДОПОЛНИТЕЛЬНО: РЕКОМЕНДУЕМЫЕ КЛАССЫ И SO СТРУКТУРЫ (для старта)
- Core: GameManager, NightManager, PowerManager, AudioManager, UIManager
- CameraSystem: CameraController, CameraNode(SO), CameraMapUI
- AI: AnimatronicController, AnimatronicConfig(SO), PathNode(SO)
- Jumpscare: JumpscareController (варианты через SO/префабы)
- Data: NightConfig(SO), FlashlightConfig(SO), AudioSet(SO)
- UI: MenuController, HUDController, ResultsScreen

ПОРЯДОК РЕАЛИЗАЦИИ (быстрый MVP)
1) GameManager + NightManager + PowerManager (время и базовые состояния)
2) CameraSystem (переключение, карта, простые помехи)
3) Окно + фонарик: заряд/разряд батареи, инпут, визуал и SFX
4) Один аниматроник: логика появления в окне, реакция на фонарик, атака
5) Jumpscare последовательность и экран результата
6) Баланс/настройки ночи и FlashlightConfig через ScriptableObject